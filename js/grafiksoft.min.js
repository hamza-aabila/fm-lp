            // Variable to hold request
            var request;

            var url = window.location.href;
            $(document).ready(function() {
                $('#url').val(url);
            });

            console.log(url);
            // Bind to the submit event of our form
            $("#order_form").submit(function(event) {

                // Abort any pending request
                if (request) {
                    request.abort();
                }
                // setup some local variables
                var $form = $(this);

                // Let's select and cache all the fields
                var $inputs = $form.find("input, select, button, textarea");

                // Serialize the data in the form
                var serializedData = $form.serialize();

                // Let's disable the inputs for the duration of the Ajax request.
                // Note: we disable elements AFTER the form data has been serialized.
                // Disabled form elements will not be serialized.
                $inputs.prop("disabled", true);

                // Fire off the request to /form.php
                request = $.ajax({
                    url: "https://script.google.com/macros/s/AKfycbz3gFTp5paWkrvYh6JGIQYpr5sDoD9IT6HjZZvtBCHncPAat7E/exec",
                    type: "post",
                    data: serializedData
                });

                // Callback handler that will be called on success
                request.done(function(response, textStatus, jqXHR) {
                    // Log a message to the console
                    console.log("Hooray, it worked!");
                });

                // Callback handler that will be called on failure
                request.fail(function(jqXHR, textStatus, errorThrown) {
                    // Log the error to the console
                    console.error(
                        "The following error occurred: " +
                        textStatus, errorThrown
                    );
                });

                // Callback handler that will be called regardless
                // if the request failed or succeeded
                request.always(function() {
                    // Reenable the inputs
                    $inputs.prop("disabled", false);
                    $('#order-form').html('<div class="main-thanks"><div class="container text-center mt-5 mb-5"><div class="cart-thanks "><p><svg class="checkmark" xmlns="https://www.w3.org/2000/svg" viewBox="0 0 52 52"><circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"></circle><path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"></path> </svg><br class="linspace">لقد تم تسجيل طلبكم،<br class="linspace">سنقوم بالاتصال بكم في أقل من 24 ساعة لتأكيد الطلب،<br class="linspace">شكرا !!!</p><p class="cart-thanks-btns"><a href="tel:0623235444">للاستفسار أو طلب منتوجات أخرى <br>المرجو الاتصال على الرقم<br>0623235444</a></p></div><div class="clear-fix"></div></div></div>');
                    fbq('track', 'Purchase');
                    //window.location.href = 'thanks.html';
                });

                // Prevent default posting of form
                event.preventDefault();
            });